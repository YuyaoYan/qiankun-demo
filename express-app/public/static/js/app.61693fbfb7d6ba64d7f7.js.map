{"version":3,"sources":["webpack:///./src/store/index.js","webpack:///./src/micro-app.js","webpack:///src/App.vue","webpack:///./src/App.vue?e82e","webpack:///./src/App.vue","webpack:///./src/micro-config.js","webpack:///./src/components/MainAppEnterPage.vue?8487","webpack:///./src/components/MainAppEnterPage.vue","webpack:///src/components/MainAppEnterPage.vue","webpack:///src/components/Mainpage.vue","webpack:///./src/components/Mainpage.vue?1d1d","webpack:///./src/components/Mainpage.vue","webpack:///./src/components/Subpages.vue?2b2b","webpack:///./src/components/Subpages.vue","webpack:///src/components/Subpages.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["store","state","msg","sendMsg","inpageMsg","mutations","updateMsg","newState","updateSendMsg","updateInpageMsg","actions","modules","microApps","name","entry","activeRule","container","apps","concat","App","data","micro_app","current","computed","childMsg","this","$store","methods","goto","item","history","pushState","resetCurrentPath","jumpToMsinpage","$router","push","path","jumpToApps","sendMessageToChildren","v","$actions","setGlobalState","window","location","hash","created","findIndex","selectortype_template_index_0_src_App","render","_vm","_h","$createElement","_c","_self","attrs","id","staticClass","_v","class","active","on","click","$event","_l","key","_s","size","placeholder","change","model","value","callback","$$v","expression","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","config","beforeLoad","app","console","log","beforeMount","afterMount","beforeUnmount","afterUnmount","components_MainAppEnterPage","src_components_MainAppEnterPage","MainAppEnterPage_normalizeComponent","Mainpage","microApp","handleLoadSubApp","Object","es","props","handleUnmountSubApp","unmount","components_Mainpage","plain","src_components_Mainpage","Mainpage_normalizeComponent","components_Subpages","_m","src_components_Subpages","Subpages_normalizeComponent","Vue","use","Router","originalPush","prototype","onResolve","onReject","call","catch","err","router","routes","redirect","exact","component","MainAppEnterPage","children","Subpages","productionTip","Vuex","ElementUI","_store","Store","h","$mount","initGlobalState","mt","onGlobalStateChange","prev","commit","registerMicroApps","microConfig","start"],"mappings":"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","file":"static/js/app.61693fbfb7d6ba64d7f7.js","sourcesContent":["const store = {\n  state: {\n    msg: \"\",\n    sendMsg: \"\",\n    inpageMsg: \"\"\n  },\n  mutations: {\n    updateMsg(state, newState) {\n      state.msg = newState.msg;\n    },\n    updateSendMsg(state, newState) {\n      state.sendMsg = newState.sendMsg;\n    },\n    updateInpageMsg(state, newState) {\n      state.inpageMsg = newState.inpageMsg;\n    }\n  },\n  actions: {},\n  modules: {}\n};\nexport default store;\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","export const microApps = [\n  {\n    name: \"micro-app\",\n    entry: \"//localhost:4001\",\n    activeRule: \"/#/sub/micro-app\",\n    container: \"#subapp-viewport\"\n  },\n  {\n    name: \"sub-app\",\n    entry: \"//localhost:4002\",\n    activeRule: \"/#/sub/sub-app\",\n    container: \"#subapp-viewport\"\n  }\n];\nexport const inpageMicroApp = [\n  {\n    name: \"micro-app-inpage\",\n    entry: \"//localhost:4011\",\n    activeRule: \"/#/main/inpage\",\n    container: \"#microapp-inpage-viewport\"\n  },\n  {\n    name: \"sub-app-inpage\",\n    entry: \"//localhost:4012\",\n    activeRule: \"/#/main/inpage\",\n    container: \"#subapp-inpage-viewport\"\n  }\n];\n// const apps = microApps.map(item => {\n//   return {\n//     ...item,\n//     container: \"#subapp-viewport\", // 子应用挂载的div\n//     props: {\n//       routerBase: item.activeRule // 下发基础路由\n//     }\n//   };\n// });\nexport const apps = microApps.concat(inpageMicroApp);\nexport default microApps;\n\n\n\n// WEBPACK FOOTER //\n// ./src/micro-app.js","<template>\n  <div id=\"app\">\n    <div class=\"layout-header\">\n      <div class=\"logo\">QIANKUN-MAIN</div>\n      <ul class=\"sub-apps\">\n        <li\n          :class=\"{ active: '/#/main/mainpage' === current }\"\n          @click=\"jumpToMsinpage()\"\n        >\n          main-app\n        </li>\n        <li\n          v-for=\"item in microApps\"\n          :class=\"{ active: item.activeRule === current }\"\n          :key=\"item.name\"\n          @click=\"goto(item)\"\n        >\n          {{ item.name }}\n        </li>\n        <li :class=\"{ active: '/#/main/inpage' === current }\" @click=\"jumpToApps\">\n          communicate btw sub apps\n        </li>\n        <li>\n          <el-input\n            size=\"mini\"\n            v-model=\"msg\"\n            placeholder=\"与micro-app子应用通信\"\n            @change=\"sendMessageToChildren\"\n          ></el-input>\n        </li>\n        <li>\n          {{ childMsg || \"👉 Msg Receiving from micro-app...\" }}\n        </li>\n      </ul>\n    </div>\n    <div id=\"subapp-viewport\">\n      <!-- 微应用销毁后，<router-view>将不存在，进而导致切换回主应用时页面不加载问题 -->\n      <router-view></router-view>\n    </div>\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nimport microApps from \"./micro-app\";\nexport default {\n  name: \"App\",\n  data() {\n    return {\n      microApps,\n      current: \"\",\n      msg: \"\",\n      // childMsg: \"\",\n    };\n  },\n  computed: {\n    childMsg() {\n      return this.$store && this.$store.state && this.$store.state.sendMsg;\n    },\n  },\n  methods: {\n    goto(item) {\n      history.pushState(null, item.activeRule, item.activeRule); // 没引入路由，所以不能用路由切换\n      this.resetCurrentPath();\n    },\n\n    // 跳转主应用页面\n    jumpToMsinpage() {\n      // history.pushState(null, \"/main/mainpage\", \"/main/mainpage\"); // 没引入路由，所以不能用路由切换\n      this.$router.push({\n        path: \"/main/mainpage\",\n      });\n      this.resetCurrentPath();\n    },\n    jumpToApps() {\n      this.$router.push({\n        path: \"/main/inpage\",\n      });\n      this.resetCurrentPath();\n    },\n    sendMessageToChildren(v) {\n      this.$actions.setGlobalState({\n        msg: v,\n      });\n    },\n    resetCurrentPath() {\n      let path = `/${window.location.hash}`;\n      this.current = path;\n    },\n  },\n  created() {\n    let path = `/${window.location.hash}`;\n    if (this.microApps.findIndex((item) => item.activeRule === path) >= 0) {\n      this.current = path;\n    }\n  },\n};\n</script>\n\n<style>\nhtml,\nbody {\n  margin: 0 !important;\n  padding: 0;\n}\n.layout-header {\n  height: 50px;\n  width: 100%;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  line-height: 50px;\n  position: relative;\n}\n.logo {\n  float: left;\n  margin: 0 50px;\n}\n.sub-apps {\n  list-style: none;\n  margin: 0;\n  overflow: hidden;\n}\n.sub-apps li {\n  list-style: none;\n  padding: 0 20px;\n  cursor: pointer;\n  float: left;\n}\n.sub-apps li.active {\n  color: #42b983;\n  text-decoration: underline;\n}\n#app {\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"layout-header\"},[_c('div',{staticClass:\"logo\"},[_vm._v(\"QIANKUN-MAIN\")]),_vm._v(\" \"),_c('ul',{staticClass:\"sub-apps\"},[_c('li',{class:{ active: '/#/main/mainpage' === _vm.current },on:{\"click\":function($event){return _vm.jumpToMsinpage()}}},[_vm._v(\"\\n        main-app\\n      \")]),_vm._v(\" \"),_vm._l((_vm.microApps),function(item){return _c('li',{key:item.name,class:{ active: item.activeRule === _vm.current },on:{\"click\":function($event){return _vm.goto(item)}}},[_vm._v(\"\\n        \"+_vm._s(item.name)+\"\\n      \")])}),_vm._v(\" \"),_c('li',{class:{ active: '/#/main/inpage' === _vm.current },on:{\"click\":_vm.jumpToApps}},[_vm._v(\"\\n        communicate btw sub apps\\n      \")]),_vm._v(\" \"),_c('li',[_c('el-input',{attrs:{\"size\":\"mini\",\"placeholder\":\"与micro-app子应用通信\"},on:{\"change\":_vm.sendMessageToChildren},model:{value:(_vm.msg),callback:function ($$v) {_vm.msg=$$v},expression:\"msg\"}})],1),_vm._v(\" \"),_c('li',[_vm._v(\"\\n        \"+_vm._s(_vm.childMsg || \"👉 Msg Receiving from micro-app...\")+\"\\n      \")])],2)]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"subapp-viewport\"}},[_c('router-view')],1),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e237f498\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e237f498\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e237f498\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","const config = {\n  beforeLoad: [\n    app => {\n      console.log(\n        \"%c before load \",\n        \"background:#A0522D ; padding: 1px; border-radius: 3px;  color: #fff\",\n        app.name\n      );\n    }\n  ], // 挂载前回调\n  beforeMount: [\n    app => {\n      console.log(\n        \"%c before mount \",\n        \"background:#32CD32 ; padding: 1px; border-radius: 3px;  color: #fff\",\n        app.name\n      );\n    }\n  ], // 挂载后回调\n  afterMount: [\n    app => {\n      console.log(\n        \"%c after mount \",\n        \"background:#006400 ; padding: 1px; border-radius: 3px;  color: #fff\",\n        app.name\n      );\n    }\n  ],\n  beforeUnmount: [\n    app => {\n      console.log(\n        \"%c before unmount \",\n        \"background:#C71585 ; padding: 1px; border-radius: 3px;  color: #fff\",\n        app.name\n      );\n    }\n  ],\n  afterUnmount: [\n    app => {\n      console.log(\n        \"%c after unload \",\n        \"background:#800080 ; padding: 1px; border-radius: 3px;  color: #fff\",\n        app.name\n      );\n    }\n  ] // 卸载后回调\n};\n\nexport default config;\n\n\n\n// WEBPACK FOOTER //\n// ./src/micro-config.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5c5d198e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MainAppEnterPage.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MainAppEnterPage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MainAppEnterPage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5c5d198e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MainAppEnterPage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MainAppEnterPage.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"MainAppEnterPage\",\n  data() {\n    return {\n      msg: \"QIANKUN MAIN\",\n    };\n  },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MainAppEnterPage.vue","<template >\n  <div class=\"mainpage-Container\">\n    Test page jump btw mainapp and microapp.\n    <h3>To load sub-app-inpage by manual trigger ⬇️</h3>\n    <el-button @click=\"handleLoadSubApp\" plain>handle load sub-app</el-button>\n    <el-button @click=\"handleUnmountSubApp\" plain\n      >handle unmount sub-app</el-button\n    >\n    <div id=\"content\"></div>\n  </div>\n</template>\n<script>\nimport { loadMicroApp } from \"qiankun\";\n\nexport default {\n  name: \"mainpage\",\n  data() {\n    return {\n      microApp: null,\n    };\n  },\n  methods: {\n    handleLoadSubApp() {\n      this.microApp = loadMicroApp({\n        name: \"sub-app-inpage\",\n        entry: \"//localhost:4012\",\n        container: \"#content\",\n        props: {},\n      });\n    },\n    handleUnmountSubApp() {\n      console.log(\"this.microApp's lifeCycle\", this.microApp);\n      this.microApp.unmount();\n    },\n  },\n};\n</script>\n<style scoped>\n.mainpage-Container {\n  padding: 20px;\n}\n/* #content {\n  width: 300px;\n  height: 300px;\n  \n} */\n#content {\n  width: 60%;\n  height: calc(100% - 111px);\n  position: absolute;\n  right: 0;\n  top: 51px;\n  box-shadow: -1px 2px 10px -4px #888883;\n  text-align: center;\n  padding: 30px;\n}\n.mainpage-Container .el-button {\n  display: block;\n  margin-bottom: 20px;\n  margin-left: 0;\n  margin-top: 20px;\n}\n.mainpage-Container .el-button.is-plain:focus,\n.el-button.is-plain:hover {\n  background: #fff;\n  border-color: #42b983;\n  color: #42b983;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Mainpage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mainpage-Container\"},[_vm._v(\"\\n  Test page jump btw mainapp and microapp.\\n  \"),_c('h3',[_vm._v(\"To load sub-app-inpage by manual trigger ⬇️\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"plain\":\"\"},on:{\"click\":_vm.handleLoadSubApp}},[_vm._v(\"handle load sub-app\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"plain\":\"\"},on:{\"click\":_vm.handleUnmountSubApp}},[_vm._v(\"handle unmount sub-app\")]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"content\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0b136cf8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Mainpage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0b136cf8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Mainpage.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Mainpage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Mainpage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0b136cf8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Mainpage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0b136cf8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Mainpage.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"inpage-container\"},[_c('div',{attrs:{\"id\":\"microapp-inpage-viewport\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"subapp-inpage-viewport\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-64a04bae\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Subpages.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-64a04bae\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Subpages.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Subpages.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Subpages.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-64a04bae\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Subpages.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-64a04bae\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Subpages.vue\n// module id = null\n// module chunks = ","<template >\n  <!-- 两个子应用在一个页面通信 -->\n  <div class=\"inpage-container\">\n    <div id=\"microapp-inpage-viewport\"></div>\n    <div id=\"subapp-inpage-viewport\"></div>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"Subpages\",\n  methods: {},\n};\n</script>\n<style scoped>\n.inpage-container {\n  padding-top: 100px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  width: 100%;\n  justify-content: space-evenly;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Subpages.vue","import Vue from \"vue\";\nimport Router from \"vue-router\";\nimport MainAppEnterPage from \"@/components/MainAppEnterPage\";\nimport Mainpage from \"@/components/Mainpage\";\nimport Subpages from \"@/components/Subpages\";\n\nVue.use(Router);\n\n// 解决Vue-Router升级导致的Uncaught(in promise) navigation guard问题\nconst originalPush = Router.prototype.push;\nRouter.prototype.push = function push(location, onResolve, onReject) {\n  if (onResolve || onReject)\n    return originalPush.call(this, location, onResolve, onReject);\n  return originalPush.call(this, location).catch(err => err);\n};\n\nexport default new Router({\n  routes: [\n    {\n      path: \"/\",\n      redirect: \"/main/*\"\n    },\n    {\n      path: \"/main/*\",\n      name: \"MainAppEnterPage\",\n      exact: true,\n      component: MainAppEnterPage,\n      children: [\n        {\n          path: \"/main/mainpage\",\n          name: \"mainpage\",\n          exact: true,\n          component: Mainpage\n        },\n        {\n          path: \"/main/inpage\",\n          name: \"inpage\",\n          exact: true,\n          component: Subpages\n        }\n      ]\n    }\n  ]\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport store from \"./store\";\nimport App from \"./App.vue\";\nimport ElementUI from \"element-ui\";\nimport \"element-ui/lib/theme-chalk/index.css\";\nimport {\n  registerMicroApps,\n  start,\n  setDefaultMountApp,\n  initGlobalState\n} from \"qiankun\";\nimport microApps, { apps } from \"./micro-app\";\nimport microConfig from \"./micro-config\";\nimport router from \"./router\";\n\nVue.config.productionTip = false;\nVue.use(Vuex);\nVue.use(ElementUI);\n\nlet _store = new Vuex.Store(store);\nVue.prototype.$store = _store;\n\nnew Vue({\n  router,\n  _store,\n  render: h => h(App)\n}).$mount(\"#app\");\n\n// 主应用状态初始化\n// 通讯\nconst actions = initGlobalState({\n  mt: \"init\", // 初始化state\n  msg: \"\",\n  sendMsg: \"\",\n  inpageMsg: \"\"\n});\n// 在项目中任何需要监听的地方进行监听，在这里监听是为了方便\nactions.onGlobalStateChange((state, prev) => {\n  console.log(\"main state change\", state);\n  _store.commit(\"updateMsg\", state);\n  _store.commit(\"updateSendMsg\", state);\n  _store.commit(\"updateInpageMsg\", state);\n});\n// 将action对象绑到Vue原型上，为了项目中其他地方使用方便\nVue.prototype.$actions = actions;\n\nregisterMicroApps(apps, microConfig);\n// setDefaultMountApp(microApps[0].activeRule); // 默认打开第一个子项目\nstart();\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}